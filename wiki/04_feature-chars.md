<link href="../styles.css" rel="stylesheet" />

## 04. Характеристики признаков

- [04. Характеристики признаков](#04-характеристики-признаков)
  - [Основные понятия математической статистики](#основные-понятия-математической-статистики)
  - [Связь математической статистики с теорией вероятностей](#связь-математической-статистики-с-теорией-вероятностей)
  - [Анализ статистических данных. Вариационные ряды](#анализ-статистических-данных-вариационные-ряды)
  - [Эмпирическая функция распределения](#эмпирическая-функция-распределения)
  - [Графическое изображение статистического распределения](#графическое-изображение-статистического-распределения)
  - [Числовые характеристики признаков](#числовые-характеристики-признаков)
    - [Минимальное и максимальное значения](#минимальное-и-максимальное-значения)
    - [Размах вариации](#размах-вариации)
    - [Выборочное среднее](#выборочное-среднее)
    - [Медиана](#медиана)
    - [Мода](#мода)
    - [Выборочная дисперсия](#выборочная-дисперсия)
    - [Выборочное среднее квадратическое отклонение](#выборочное-среднее-квадратическое-отклонение)
    - [Коэффициент вариации](#коэффициент-вариации)
  - [Обобщенные характеристики выборки](#обобщенные-характеристики-выборки)
    - [Центральная тенденция](#центральная-тенденция)
      - [Форма (скошенность) распределения](#форма-скошенность-распределения)
    - [Разброс данных](#разброс-данных)
      - [Нормальность распределения](#нормальность-распределения)
      - [Симметричность выборки](#симметричность-выборки)
    - [Степень вариативности](#степень-вариативности)
      - [Однородность выборки](#однородность-выборки)
  - [Практическая работа. Анализ статистических данных с построением вариационных рядов, гистограммы частот и определением числовых характеристик признаков](#практическая-работа-анализ-статистических-данных-с-построением-вариационных-рядов-гистограммы-частот-и-определением-числовых-характеристик-признаков)
    - [Задание](#задание)
    - [Пример](#пример)
    - [Вариант 0a](#вариант-0a)
    - [Вариант 0b](#вариант-0b)
    - [Другие данные](#другие-данные)
  - [Заключение](#заключение)
  - [Дополнительная литература](#дополнительная-литература)
  - [Источники информации](#источники-информации)

*[МС]: математическая статистика

<dfn title="математическая статистика">Математическая статистика</dfn> (МС) — раздел математики, посвященный методам сбора, анализа и обработки результатов статистических данных наблюдений для научных и практических целей. Установление закономерностей, которым подчинены массовые случайные явления, основано на изучении статистических данных (результатов наблюдений) **методами теории вероятностей**.[^466549]

**Первая задача МС** — указать способы сбора и группировки статистических сведений, полученных в результате наблюдений или в результате специально поставленных экспериментов.

**Вторая задача МС** — разработать методы анализа статистических данных в зависимости от целей исследования. Сюда относятся:

- а) оценка неизвестной вероятности  события; оценка неизвестной функции распределения; оценка параметров распределения, вид которого неизвестен; оценка зависимости случайной величины от одной или нескольких случайных величин и др.;

- б) проверка статистических гипотез о виде неизвестного распределения или о величине параметров распределения, вид которого неизвестен.

Современная математическая статистика разрабатывает способы определения **числа** необходимых **испытаний** до начала исследования (планирование эксперимента), в ходе исследования (последовательный анализ) и решает многие другие задачи.

Современную математическую статистик определяют как **науку о принятии решений в условиях неопределенности**.

### Основные понятия математической статистики
Пусть требуется изучить **совокупность однородных объектов** относительно некоторого качественного или количественного признака, характеризующего эти объекты. <dfn title="признак">Признак</dfn> $P$ — это свойство или характеристика объекта, проявляющаяся в конкретном испытании или наблюдении и принимающая определённые значения. В теории вероятностей признак воплощается в виде случайной величины, которая количественно описывает состояние или результат данного явления. Проще говоря, случайная величина — это математическая модель признака, которая связывает каждый исход случайного эксперимента с числовым значением признака. Таким образом, признак и случайная величина тесно связаны: признак — это характеристика, а случайная величина — численное её представление в рамках теории вероятностей.

!!! example **Пример**

    Если имеется партия деталей, то качественным признаком может служить стандартность детали, а количественным — контролируемый размер детали.

Если совокупность содержит очень большое число объектов, то провести сплошное обследование физически невозможно. В такой ситуации **случайно отбирают** из всей совокупности ограниченное число объектов и подвергают их изучению.

<dfn title="генеральная совокупность">Генеральная совокупность</dfn> — это вся совокупность объектов, которые необходимо исследовать, т.е. тех объектов, из которых производится отбор. Проще говоря, это полный набор всех элементов, которые могут участвовать в изучаемом процессе или явлении. Например, если изучается рост школьников в городе, генеральная совокупность — это все школьники этого города. Аналогом генеральной совокупности с точки зрения ТВ является пространство исходов.

<dfn title="выборочная совокупность">Выборочная совокупность</dfn> (<dfn title="выборка">выборка</dfn>) — это совокупность случайно отобранных объектов, часть генеральной совокупности, специально отобранная для проведения исследования с целью оценки характеристик всей генеральной совокупности.

Таким образом, генеральная совокупность — это весь набор объектов исследования, а выборка — его часть, используемая для анализа и построения выводов.

<dfn title="объем совокупности">Объемом совокупности</dfn> (выборочной или генеральной) называют число объектов этой совокупности.

!!! example Пример

    Из 1000 деталей отобрано для обследования 100 деталей. Объем генеральной совокупности $N = 1000$, а объем выборки — $n = 100$.

Выборка должна быть <dfn title="репрезентативная выборка">репрезентативной</dfn>, т.е. правильно отражать пропорции генеральной совокупности, чтобы её выводы можно было обобщить на всю генеральную совокупность. Это достигается **случайностью** отбора, когда все объекты генеральной совокупности имеют одинаковую вероятность быть отобранными. Например, если исследовать рост школьников, выборка — это группа школьников, выбранная из всего города для измерения.

<dfn title="объем выборки">Объем выборки</dfn> ($n$) — это количественная характеристика выборочной совокупности, то есть количество элементов генеральной совокупности, включённых в выборку для проведения исследования или анализа. Объём выборки определяет, сколько наблюдений или измерений будет сделано в рамках исследования. От объема выборки зависит точность и достоверность выводов о всей генеральной совокупности. Чем больше объем выборки, тем ниже вероятность статистической ошибки и тем более репрезентативны результаты. Таким образом, объем выборки — это число объектов из генеральной совокупности, включенных в исследование.

Аналогом объема выборки из ТВ может служить общее число исходов $n$ — количество всех возможных элементарных исходов случайного эксперимента, задающее структуру вероятностного пространства и являещееся характеристикой самой модели вероятности. Таким образом, число исходов — это характеристика теоретической модели эксперимента, а объем выборки — характеристика реальных наблюдений, сделанных для изучения какой-то генеральной совокупности. В частных случаях, если эксперименты дискретны и выборка — это полный перечень всех исходов (т.е. генеральная совокупность), то они совпадают.

Выборки подразделяют на повторные и бесповторные.

- <dfn title="повторная выборка">Повторной</dfn> называют выборку, при которой отобранный объект (перед отбором следующего) возвращается в генеральную совокупность.

- <dfn title="бесповторная выборка">Бесповторной</dfn> называют выборку, при которой отобранный объект в генеральную совокупность не возвращается.

Различные значения признака (случайной величины $X$) называются <dfn title="вариация">вариациями</dfn> (обозначим их через $x$). Вариация в статистике отражает диапазон возможных значений. Это аналог всех возможных значений случайной величины в ТВ.

Наблюдаемые значения признака называются <dfn title="варианта">вариантами</dfn>. <dfn title="варианта">Варианта</dfn> ($x_i$) — это также аналог конкретного значения (числа), который принимает дискретная случайная величина $x$, но только для выборки. Варианта совпадает с элементарным значением случайной величины в теории вероятностей. Например, при бросании кубика вариантами будут числа 1, 2, 3, 4, 5 и 6. Разница в том, что пространство исходов содержит полное множество всех вероятных исходов (все вариации), тогда как выборка содержит лишь часть таких исходов (вариант).

Таким образом:
- вариация — это размах значений в выборке, то есть разница между максимальным и минимальным значением. В теории вероятностей аналогом вариации является разброс или диапазон возможных значений случайной величины, который может быть описан через характеристики распределения (например, дисперсия или поддержка распределения).

- варианта — это конкретное значение признака в выборке. В теории вероятностей аналогом варианта является элементарное значение случайной величины — возможный исход, который она может принимать.

Число, показывающее, сколько раз встречается варианта в статистической совокупности, называется <dfn title="абсолютная частота варианта">абсолютной частотой варианты</dfn>. <dfn title="частота">Частота</dfn> (<dfn title="абсолютная частота варианта">абсолютная частота варианта</dfn>) ($n_i$) — количество раз, которое конкретная варианта встречается в выборке или серии испытаний. Например, если в серии из 50 бросков кубика число 3 выпало 8 раз, то частота варианта 3 равна 8. Аналогом абсолютной частоты варианта в теории вероятностей является абсолютная частота события. Это натуральное число, показывающее, сколько раз данное событие произошло в серии повторений случайного эксперимента.

Таким образом, абсолютная частота варианта (в статистике) — количество раз, когда конкретное наблюдаемое значение (варианта) встречается в выборке. Абсолютная частота события (в теории вероятностей) — количество появлений данного события при многократном повторении эксперимента. Это близко к понятию число благоприятных исходов $m$ —  количество элементарных исходов, благоприятных для данного события, в общем множестве всех равновозможных исходов $\Omega$. Вообще говоря, абсолютная частота — это характеристика фактических данных эксперимента, а количество благоприятных исходов — характеристика модели или математического пространства исходов. Они могут совпадать, если речь о равновозможных событиях и точных измерениях, но принципиально это разные понятия.

<dfn title="относительная частота">Относительная частота</dfn> (<dfn title="статическая вероятность">статическая вероятность</dfn>, <dfn title="частотная вероятность">частотная вероятность</dfn> или <dfn title="частость">частость</dfn>) ($w_i$) — отношение частоты варианта к общему объему выборки (числу всех испытаний).

$$ w_i = \frac{n_i}{n} $$

Она показывает долю наблюдений с данной вариантой и служит приближением вероятности варианта. Вероятность события в теории вероятностей является аналогом относительной частоты варианта в математической статистике. Относительная частота варианта (в статистике) — это доля или пропорция данного варианта в выборке, то есть отношение абсолютной частоты варианта к объему выборки. Вероятность события (в теории вероятностей) — это числовая оценка возможности наступления события, которая в эмпирическом смысле совпадает с предельным значением относительной частоты при большом числе повторений эксперимента.

Другими словами, вероятность можно рассматривать как теоретическое предельное значение относительной частоты, к которому стремится наблюдаемая относительная частота варианта при бесконечном увеличении числа испытаний. Таким образом, вероятность события в теории вероятностей и относительная частота варианта в математической статистике имеют тесную связь и часто рассматриваются как соответствующие понятия.

### Связь математической статистики с теорией вероятностей
Связь математической статистики с теорией вероятностей заключается в следующем:

- Теория вероятностей изучает абстрактные математические законы случайных событий, случайных величин и распределений. Она формирует фундаментальные понятия и модели, описывающие случайные процессы и явления, даёт инструменты для вычисления вероятностей различных событий и характеристик случайных величин.

- Математическая статистика использует эти теоретические основы для анализа реальных данных, полученных из наблюдений и экспериментов. Её задача — на основе выборочных данных делать выводы о законах распределения, параметрах и свойствах генеральной совокупности, проверять гипотезы, строить оценки и прогнозы.

Таким образом, теория вероятностей обеспечивает математическую базу и формальные методы, а математическая статистика применяет эти методы для практического анализа и интерпретации данных. Можно сказать, что теория вероятностей — это теория модели случайных явлений, а статистика — наука о том, как применять эту теорию к реальным наблюдениям и данным.

| Теория вероятности | Математическая статистика | Описание
-- | -- | --
Случайный эксперимент | Статистическое наблюдение (исследование)
Исход (элементарное событие) | Элементарный результат наблюдения | Возможный результат одного наблюдения или эксперимента
Пространство исходов | Статистическая совокупность | Все возможные результаты эксперимента или выборки
Мощность пространства исходов | Объем совокупности | Общее количество объектов в исследуемой совокупности
Случайное событие | Статистическое событие или событие в выборке | Подмножество возможных результатов (набор наблюдений)
Достоверное событие |	Событие, наступающее с вероятностью 1 в выборке	|Событие, которое обязательно происходит
Невозможное событие |	Событие, вероятность которого стремится к 0 |	Событие, которое не может произойти в наблюдаемых данных
Случайная величина | Статистическая характеристика (признак) | Количественная характеристика события или объекта наблюдения
Разброс значений случайной величины | Вариация | Диапазон возможных значений случайной величины или признака
Значение случайной величины | Варианта | Конкретное число, которое может принимать случайная величина или признак
Абсолютная частота события | Абсолютная частота варианты | Количество появлений данного события при многократном повторении эксперимента
Вероятность события | Относительная частота варианты (частотность)
Закон распределения случайной величины | Эмпирическое распределение, оценка закона распределения | Распределение частот значений признака в выборке
Ряд распределения | Вариационный ряд | Упорядоченный по возрастанию список значений признака с частотами
Функция распределения | Эмпирическая функция распределения | Функция, показывающая накопленную частоту значений

Таким образом, понятия из теории вероятностей в математической статистике переходят в понятия, связанные с наблюдаемыми данными, их выборками и оценками распределений. В статистике акцент делается на анализ и интерпретацию реальных данных, а в теории вероятностей — на абстрактной модели случайных процессов и вероятностей.

### Анализ статистических данных. Вариационные ряды

!!! example Пример

    Для исследования жителей г. Ярославля (*генеральная совокупность*) на доминирующий цвет волос (*качественный признак*) рассмотрели 500 человек из разных районов города (*выборочная совокупность*). Получили следующие результаты:

    - блондины — 85 чел.;
    - брюнеты — 126 чел.;
    - шатены — 73 чел.;
    - русоволосые — 154 чел.;
    - каштановый цвет — 62 чел.

    Здесь:
    - цвет волос — *вариация*;
    - блондины, брюнеты и т.д. — *варианты*;
    - 85, 126 и т.д. — *абсолютные частоты*.

!!! question Проанализируйте пример выше

    <details>
    <summary><em>Терминологический анализ</em></summary>

    - *Генеральная совокупность* — это вся популяция (жители города Ярославля).

    - *Выборочная совокупность* — люди, отобранные для исследования.

    - *Объем выборки* — 500 человек, отобранных для исследования.

    - *Качественный признак* — доминирующий цвет волос. Это нечисловой (категориальный или номинальный) признак.

    - *Вариация* — характеристика признака, в данном случае сам признак "цвет волос".

    - *Варианты* — конкретные значения признака: блондины, брюнеты и др.

    - *Абсолютные частоты* — числа 85, 126, 154, 62, показывающие, сколько раз каждая варианта встречается в выборке.

    </details>

Все данные можно свести в единую таблицу, упорядочив значения вариантов по возрастанию или убыванию.

$P$ | блондины | брюнеты | шатены | русоволосые | каштановый цвет | всего
-- | -- | -- | -- | -- | --
$x$ | 1 | 2 | 3 | 4 | 5 |
$n_i$ | 85 | 126 | 73 | 154 | 62 | **500**

!!! tip Вычислить относительную частоту (частотность) вариант

    $P$ | блондины | брюнеты | шатены | русоволосые | каштановый цвет | всего
    -- | -- | -- | -- | -- | --
    $x$ | 1 | 2 | 3 | 4 | 5 |
    $w_i = \frac{n_i}{n = 500}$ | 0.17 | 0.252 | 0.146 | 0.308 | 0.124 | **1.00**

<dfn title="вариационный ряд">Вариационным рядом</dfn> называется ранжированный в порядке возрастания (убывания) ряд вариантов с соответствующими им абсолютными или относительными частотами.

_**Пример**_: Измерили рост 50 старшеклассников в сантиметрах.

<table>
<tr>
<td>149</td><td>150</td><td>150</td><td>151</td><td>151</td><td>152</td><td>152</td><td>153</td><td>154</td><td>154</td>
</tr>
<tr>
<td>155</td><td>155</td><td>155</td><td>156</td><td>156</td><td>157</td><td>157</td><td>157</td><td>158</td><td>158</td>
</tr>
<tr>
<td>159</td><td>159</td><td>159</td><td>159</td><td>161</td><td>161</td><td>161</td><td>162</td><td>162</td><td>162</td>
</tr>
<tr>
<td>162</td><td>162</td><td>165</td><td>166</td><td>166</td><td>166</td><td>167</td><td>167</td><td>169</td><td>170</td>
</tr>
<tr>
<td>171</td><td>171</td><td>173</td><td>173</td><td>173</td><td>175</td><td>176</td><td>178</td><td>180</td><td>182</td>
</tr>
</table>

Рассмотрение и осмысление этих данных (особенно при большом числе наблюдений $n$) затруднительно, и по ним практически нельзя представить характер распределения признака (случайной величины $X$ — рост).

Для удобства все возможные значения группируют, что дает возможность представить полученные данные в виде таблицы.

| $x_i$ | 145–149 | 150–154 | 155–159 | 160–164 | 165–169 | 170–174 | 175–179 | 180–184
-- | -- | -- | -- | -- | -- | -- | -- | -- |
$n_i$ | 1 | 9 | 14 | 8 | 7 | 6 | 3 | 2
$w_i$ | 1/50 | 9/50 | 14/50 | 8/50 | 7/50 | 6/50 | 3/50 | 2/50

Здесь:

- группы роста — **вариации**;
- значения вариаций 145–149, 150–154, ... — **варианты**;
- 1, 9, 14 и т.д. — **абсолютные частоты**;
- 1/50, 9/50, 14/50, ... — **относительные частоты** (**частости**).

<dfn title="вариационный ряд">Вариационным рядом</dfn> называется ранжированный в порядке возрастания (или убывания) ряд вариантов с соответствующими им абсолютными или относительными частотами. Вариационные ряды бывают *дискретными* и *интервальными*.

<dfn title="дискретный вариационный ряд">Дискретные вариационные ряды</dfn> строят обычно в том случае, если значения изучаемого признака могут отличаться друг от друга не менее чем на некоторую конечную величину. В дискретных вариационных рядах задаются точечные значения признака.

<dfn title="интервальный вариационный ряд">Интервальные вариационные ряды</dfn> строят обычно в том случае, если значения изучаемого признака могут отличаться друг от друга на сколь угодно малую величину. Значения признаков в них задаются в виде интервалов.

*Общий вид дискретного ряда*

| Варианты $x_i$ | $x_1$ | $x_2$ | $\dots$ | $x_k$
-- | -- | -- | -- | -- | --
**Частоты $n_i$** | $n_1$ | $n_2$ | $\dots$ | $n_k$

*Общий вид интервального ряда*

| Варианты $x_i$ | $x_1-x_2$ | $x_2-x_3$ | $\dots$ | $x_{k-1}-x_k$
-- | -- | -- | -- | -- | --
**Частоты $n_i$** | $n_1$ | $n_2$ | $\dots$ | $n_k$

*Пример дискретного (точечного) вариационного ряда*

| Тарифный разряд $x_i$ | 1 | 2 | 3 | 4 | 5 | 6 | $\sum$
-- | -- | -- | -- | -- | -- | -- | --
Частота (количество рабочих) $n_i$ | 2 | 3 | 6 | 8 | 22 | 9 | 50

*Пример интервального вариационного ряда*

| $x_i$ | 145–149 | 150–154 | 155–159 | 160–164 | 165–169 | 170–174 | 175–179 | 180–184
-- | -- | -- | -- | -- | -- | -- | -- | -- |
$w_i$ | 1/50 | 9/50 | 14/50 | 8/50 | 7/50 | 6/50 | 3/50 | 2/50

*Пример интервального ряда*

| $i$ | Выработка в отчетном году в процентах к предыдущему $x$ | Частота (количество) рабочих $n_i$
-- | -- | --
1 | 94.0–100.0 | 3
2 | 100.0–106.0 | 7
3 | 106.0–112.0 | 11
4 | 112.0–118.0 | 20
5 | 118.0–124.0 | 28
6 | 124.0–130.0 | 19
7 | 130.0–136.0 | 10
8 | 136.0–142.0 | 2
| | $\sum$ | 100

В интервальных вариационных рядах в каждом интервале выделяют верхнюю и нижнюю границы.

Разность между верхней и нижней границами интервала называется <dfn title="интервальная разность">интревальной разностью</dfn> или <dfn title="длина частотного интервала">длиной частотного интервала</dfn>. В общем виде интервальную разность $k_i$ представим как

$$ k_i = x_{i (\max)} - x_{i (\min)} $$

Первый и последний интервалы могут быть <dfn title="открытый интервал">открытыми</dfn>, т.е. иметь только одну границу.

Число интервалов $k$ следует брать не очень большим, чтобы после группировки ряд не был громоздким, и не очень малым, чтобы не потерять особенности распределения признака.

Разность между наибольшим и наименьшим значением вариант $x_{i (\max)} - x_{i (\min)}$ называется <dfn title="размах выборки">размахом выборки</dfn>.

Согласно формуле Стерджеса рекомендуемое число интервалов:

$$ k = 1 + 3.322 \cdot \lg{n} $$

а длина интервала:

$$ h = \frac{x_{\max} - x_{\min}}{k} $$

где:
- $n$ — число единиц совокупности;
- $x_{\max}$ и $x_{\min}$ — наибольшее и наименьшее значения вариационного ряда.

За начало первого интервала рекомендуется брать величину, равную $x_{нач} = x_{\min} - h/2$.[^466549]

**Пример**. Необходимо изучить изменение выработки на одного рабочего механического цеха в отчетном году по сравнению с предыдущим. Получены следующие данные о распределении 100 рабочих цеха по выработке в отчетном году (в процентах к предыдущему году).

$$ \underbrace{97.8; 97.0; 101.7, 132.5; \dots; 142.3; 104.2; 141.0; 122.1}_{\text{100 значений}} $$

Разобъем варианты на отдельные интервалы, т.е. проведем их группировку: $x_{\max}=142.3$, $x_{\min} = 97.0$.

По ф. Стерджеса:

$$ h = \frac{x_{\max} - x_{\min}}{1+3.322 \cdot \lg_{n}} = \frac{142.3-97.0}{1+3.322 \cdot \lg 100} = \frac{45.3}{7.644} \approx 5.93 $$

Примем $h = 6.0$.

За начало первого интервала рекомендуется брать величину $x_{нач} = x_{\min} - h/2 = 97.0 - 6/2 = 94.0$.

Сгруппированный ряд можно представить в виде таблицы.

*Пример интервального ряда*

| $i$ | Выработка в отчетном году в процентах к предыдущему $x$ | Частота (количество) рабочих $n_i$ | Частость (доля рабочих) $w_i = \frac{n_i}{n}$
-- | -- | -- | --
1 | 94.0–100.0 | 3 | 0.03
2 | 100.0–106.0 | 7 | 0.07
3 | 106.0–112.0 | 11 | 0.11
4 | 112.0–118.0 | 20 | 0.20
5 | 118.0–124.0 | 28 | 0.28
6 | 124.0–130.0 | 19 | 0.19
7 | 130.0–136.0 | 10 | 0.10
8 | 136.0–142.0 | 2 | 0.02
| | $\sum$ | 100 | 1.00

**Пример**. Для контроля качества в 40 пробах стали GS50 определялось содержание углерода (%C) и прочность на разрыв (Н/мм). Данные оформлены в виде таблицы чисел:

| $x_i$ | $z_i$
-- | --
0.30 | 589
0.33 | 614
0.37 | 612
0.36 | 572
0.31 | 548
0.35 | 535
0.32 | 593
0.39 | 582
0.30 | 538
0.32 | 566
0.37 | 602
0.33 | 544
0.34 | 545
0.33 | 562
0.30 | 576
0.29 | 572
0.30 | 555
0.33 | 555
0.32 | 518
0.32 | 539
0.29 | 537
0.34 | 574
0.39 | 570
0.37 | 540
0.38 | 575
0.32 | 562
0.38 | 601
0.37 | 587
0.38 | 587
0.33 | 614
0.34 | 596
0.36 | 605
0.33 | 575
0.34 | 570
0.36 | 550
0.38 | 557
0.37 | 558
0.34 | 587
0.35 | 580
0.36 | 560

Представить данные в виде вариационных рядов для выборки, составленной из данных измерений содержания углерода, и для выборки, составленной из измерений прочности на разрыв.

**Решение**. Дана независимая выборка: 0.3, 0.33, 0.37, 0.36, 0.31, 0.29, 0.34, 0.39, 0.37, 0.38, 0.35, 0.32, 0.39, 0.3, 0.32, 0.32, 0.38, 0.37, 0.38, 0.33, 0.37, 0.33, 0.34, 0.33, 0.3, 0.34, 0.36, 0.33, 0.34, 0.36, 0.29, 0.3, 0.33, 0.32, 0.32, 0.38, 0.37, 0.34, 0.35, 0.36.

$$
x_{\max} = 0.39\\
x_{\min} = 0.29\\
$$

По ф. Стерджеса:

$$
h = \frac{x_{\max}-x_{\min}}{1+3.322 \cdot \lg{n}} = \frac{0.39-0.29}{1+3.322 \cdot \lg{40}} = \frac{0.1}{6.32} \approx 0.016
$$

За начало первого интервала возьмем величину

$$ x_{нач} = x_{\min} - h/2 = 0.29-0.008=0.282 $$

| $x_i$ | 0.282–0.298 | 0.299–0.315 | 0.316–0.332 | 0.333–0.394 | 0.35–0.366 | 0.367–0.383 | 0.384–0.4
-- | -- | -- | -- | -- | -- | -- | --
$n_i$ | 2 | 5 | 11 | 5 | 6 | 9 | 2
$w_i$ | 0.05 | 0.125 | 0.275 | 0.125 | 0.15 | 0.225 | 0.05

### Эмпирическая функция распределения
Все важнейшие характеристики случайной величины могут быть выражены в терминах ее функции распределения.

В задачах математической статистики функция распределения генеральной совокупности (теоретическая) всегда является неизвестной.

Основываясь на выборке, можно построить хорошее приближение для неизвестной функции распределения. Так как эта функция находится эмпирическим (опытным) путем, то ее называют **эмпирической**.

<dfn title="эмпирическая функция распределения">Эмпирической функцией распределения</dfn> (<dfn title="функция распределения выборки">функцией распределения выборки</dfn>) называют функцию $F^*(x)$ или $\hat F(x)$, определяющую для каждого значения $x$ относительную частоту события $X < x$.

$$ F^*(x) = \frac{n_x}{n} $$

где

- $n_x$ — число наблюдений, при которых наблюдалось значение признака, меньшее $x$;
- $n$ — общее число наблюдений (объем выборки).

При больших $n$ $F^*(x) \rightarrow F(x)$.

$F^*(x)$ обладает всеми свойствами $F(x)$.

1. значения эмпирической функции принадлежат отрезку $[0, 1]$;
2. $F^*(x)$ — неубывающая функция;
3.
   - если $x_1$ — наименьшая варианта, то $F^*(x)$ — 0 при $x \leq x_1$,
   - если $x_k$ — наибольшая варианта, то $F^*(x) = 1$ при $x > x_k$,

Эмпирическая функция распределения выборки служит для оценки теоретической функции распределения генеральной совокупности.

**Пример**. Построить эмпирическую функцию по данному распределению выборки:

| варианты $x_i$ | 2 | 6 | 10
-- | -- | -- | --
частоты $n_i$ | 12 | 18 | 30

**Решение**. Найдем объем выборки: $12 + 18 + 30 = 60$.

1. Наименьшая варианта равна 2, следовательно, $F^*(x) = 0$ при $x \leq 2$.
2. Значение $X < 6$, а $x_1=2$, наблюдалось 12 раз $\implies$ $F^*(x)=12/60=0.2$ при $2< x \leq 6$.
3. Значения $X < 10$, а именно $x_1=2$ и $x_2=6$, наблюдались $12+18=30$ раз $\implies$ $F^*(x)=30/60=0.5$ при $6 < x \leq 10$.
4. Так как $x=10$ — наибольшая варианта, то $F(x)=1$ при $x>10$.

Искомая эмпирическая функция

![Искомая эмпирическая функция](../img/slide-26.png)

При изучении вариационных рядов наряду с понятием частоты используется понятие накопленной частоты (обозначаем $n_i^{нак}$).

<dfn title="накопленная частота">Накопленная частота</dfn> показывает, сколько наблюдалось вариантов со значением признака, меньшим $x$.

Отношение накопленной частоты $n_i^{нак}$ к общему числу наблюдеий $n$ называется <dfn title="накопленная частость">накопленной частостью</dfn>.

$$ w_i^{нак} = \frac{n_i^{нак}}{n} $$

Накопленные частоты (частости) для каждого интервала находятся последовательным суммированием частот (частостей) всех предшествующих интервалов, включая данный.


| $i$ | Выработка в отчетном году в процентах к предыдущему $x$ | Частота (количество) рабочих $n_i$ | Частость (доля рабочих) $w_i = \frac{n_i}{n}$ | Накопленная частота $n_i^{нак}$ | Накопленная частость $w_i^{нак} = \frac{n_i^{нак}}{n}$
-- | -- | -- | -- | -- | --
1 | 94.0–100.0 | 3 | 0.03 | 3 | 0.03
2 | 100.0–106.0 | 7 | 0.07 | 10 | 0.10
3 | 106.0–112.0 | 11 | 0.11 | 21 | 0.21
4 | 112.0–118.0 | 20 | 0.20 | 41 | 0.41
5 | 118.0–124.0 | 28 | 0.28 | 69 | 0.69
6 | 124.0–130.0 | 19 | 0.19 | 88 | 0.88
7 | 130.0–136.0 | 10 | 0.10 | 98 | 0.98
8 | 136.0–142.0 | 2 | 0.02 | 100 | 1.00
| | $\sum$ | 100 | 1.00 | — | —

<dfn title="rумулятивная кривая">Кумулятивная кривая</dfn> (<dfn title="кумулята">кумулята</dfn>) — кривая накопленных частот (частостей).

Для дискретного ряда кумулята представляет ломаную, соединяющую точки $(x_i; n_i^{нак})$ или $(x_i; w_i^{нак})$, $i=1, 2, \dots, k$.

Для интервального вариационного ряда ломаная начинается с точки, абсцисса которой равна началу первого интервала, а ордината — накопленной частоте (частости), равной нулю. Другие точки этой ломаной соответствуют концам интервалов.[^466549]

![Кумулятивная кривая](../img/slide-31.png)

**Пример**. Построить эмпирическую функцию по данному распределению выборки:

| $x_i$ | 0 | 1 | 2 | 3 | 4 | 5
-- | -- | -- | -- | -- | --
$n_i$ | 1 | 2 | 1 | 1 | 2 | 3

**Ответ**:

![Кумулята](../img/slide-32.png)

### Графическое изображение статистического распределения
Для графического изображения вариационных рядов наиболее часто используются полигон, гистограмма, кумулятивная кривая.

<dfn title="полигон частот">Полигоном частот</dfn> называют ломаную, отрезки которой соединяют точки $(x_1; n_1), (x_2; n_2), \dots, (x_k; n_k)$.

Для построения полигона частот на оси абсцисс откладываются варианты $x_i$, а на оси ординат — соответствующие им частоты $n_i$. Точки $(x_i; n_i)$ соединяют отрезками прямых и получают полигон частот.

<dfn title="полигон относительных частот">Полигоном относительных частот</dfn> называют ломаную, отрезки которой соединяют точки $(x_1; w_1), (x_2; w_2), \dots (x_k; w_k)$.

Для построения полигона относительных частот на оси абсцисс откладывают варианты $x_i$, а на оси ординат — соответствующие им относительные частоты $w_i$. Точки $(x_i; w_i)$ соединяют отрезками прямых и получают полигон относительных частот.[^466549]

**Пример**. Для вариационного ряда построить полигон частот и полигон относительных частот.

| $x_i$ | 0 | 1 | 2 | 3 | 4 | 5
-- | -- | -- | -- | -- | --
$n_i$ | 1 | 2 | 1 | 1 | 2 | 3

![Полигон частот](../img/slide-35a.png)
![Полигон частот](../img/slide-35b.png)

В случае непрерывного признака целесообразно строить гистограмму.

<dfn title="гистограмма частот">Гистограммой частот</dfn> называют ступенчатую фигуру, состояющую из прямоугольников, основаниями которых служат частичные интервалы длиною $h$, а высоты равны отношению $\frac{n_i}{h}$ (<dfn title="плотность частоты">плотность частоты</dfn>).

**Пример**. Построить гистограммы частот и относительных частот распределения:

| $x_i$ | 145–149 | 150–154 | 155–159 | 160–164 | 165–169 | 170–174 | 175–179 | 180–184
-- | -- | -- | -- | -- | -- | -- | -- | -- |
$n_i$ | 1 | 9 | 14 | 8 | 7 | 6 | 3 | 2
$w_i$ | 1/50 | 9/50 | 14/50 | 8/50 | 7/50 | 6/50 | 3/50 | 2/50

![Гистограмма частот](../img/slide-37.png)

### Числовые характеристики признаков
По признаку можно подсчитать некие характеристики — числа, описывающие его поведение. Для описания выборки или признака используются несколько основных числовых характеристик, которые дают представление о распределении данных и их вариативности. Эти показатели вместе помогают понять, как распределены данные, насколько они стабильны и разнообразны.

Какие характеристики есть у признаков? Что можно сказать по поводу признаков в таблице? Возьмем столбец из таблицы и подумаем о том, что можно про него сказать. Давайте разберемся в этом с помощью основных понятий математической статистики.

Пусть $P$ — столбец со значениями числового признака $P$ из нашей таблицы:

$$ P = (p_1, p_2, ..., p_n) $$

Берем все значения признака и выписываем в одну строку. Что можно посчитать для $P$?

#### Минимальное и максимальное значения
- <dfn title="минимальное значение">Минимальное значение</dfn> $x_{\min}$ — наименьшее число в выборке.

- <dfn title="максимальное значение">Максимальное значение</dfn> $x_{\max}$ — наибольшее число в выборке.

Например, для выборки 3, 7, 2, 9, 4

$$
x_{\min} = 2\\[2ex]
x_{\max} = 9
$$

Минимальное и максимальные числа дают нам следующую числовую характеристику — размах значений признака.

#### Размах вариации
<dfn title="размах значений признака">Размах значений признака</dfn> (<dfn title="размах вариации">размах вариации</dfn>, range) $R$ — разница между максимальным и минимальным значениями:

$$ R(X) = x_{\max} - x_{\min} $$

Для примера:

$$ R(X) = 9 - 2 = 7 $$

#### Выборочное среднее
<dfn title="среднее арифметическое">Среднее арифметическое</dfn> — это число, которое получается при сложении всех значений набора данных и делении этой суммы на количество этих значений. Оно отражает "среднее" значение в выборке и является одной из наиболее распространённых мер центральной тенденции.

Формула для вычисления среднего арифметического:

$$ \bar{x} = \frac{x_1+x_2+ \dots + x_n}{n} $$

где $x_1, x_2, \dots, x_n$ — значения данных, а $n$ — их количество.

Среднее арифметическое широко используется для обобщения характеристик групп чисел, оценки показателей в различных областях: образовании, финансах, науке и социологии.

<dfn title="среднее выборки">Среднее выборки</dfn> (mean) $\bar{x}$ — среднее арифметическое всех значений выборки:

$$ \bar{p} = \frac{p_1 + p_2 + \dots + p_n}{n} $$

или

$$ \bar{x} = \frac{x_1 + x_2 + \dots + x_n}{n} = \frac{1}{n} \sum_{i=1}^n{x_i} $$

где $n$ — размер выборки, $x_i$ — значения признака.

Если данные сгруппированы, то есть у нас есть значения признаков $x_i$ и частоты $
n_i$ для каждого значения, то выборочное среднее считают так:

$$ \bar{x_в} = \frac{\sum{(x_i \cdot n_i)}}{n} $$

где $n = \sum{n_i}$ — общее количество наблюдений (объем выборки). В данной трактовке выборочное среднее является аналогом математического ожидания.

Для несгруппированных данных, когда есть просто набор наблюдений $x_1,
x_2, \dots, x_n$, формула упрощается до:

$$ \bar{x} = \frac{\sum_{i=1}^n{x_i}}{n} $$

То есть оба варианта корректны, просто зависят от того, в каком виде у вас данные: напрямую или сгруппированные по частотам.

Таким образом:

- Если есть частоты для каждого значения — использовать формулу с произведением $x_i ⋅ n_i$.

- Если данные несгруппированные — просто сумму значений делить на их количество.

Это стандартный подход в статистике для вычисления выборочного среднего

#### Медиана
<dfn title="медиана">Медиана</dfn> $m_e$ — это значение признака, которое делит упорядоченный вариационный ряд на две равные по количеству частей. Иными словами, половина вариантов меньше или равна медиане, другая половина — больше или равна ей. Другими словами, <dfn title="медиана">медиана</dfn> — такое число $h_P$, что ровно половина из элементов $p_i$ больше него, а другая половина меньше него. Медиана — это не то же самое, что и среднее: для $(3, 5, 5, 9, 11)$ среднее значение — 6,6, а медиана — 5.

- Если число наблюдений нечётное, медиана — это значение, стоящее посередине ряда.

- Если число наблюдений чётное, медиана — среднее арифметическое двух средних значений рядa.

> Для выборок чётного объёма медиана не определена однозначно. Например, для выборки $(1, 3, 4, 5)$ — где тут медиана? На практике в качестве медианы берут среднее арифметическое между двумя "центральными значениями". То есть в примере выше медиана равна $\frac{(3 + 4)}{2} = 3.5$.

!!! tip Совет

      Чтобы быстро вычислить медиану, нужно мысленно упорядочить элементы вектора признака (массив значений) по возрастанию и взять число из середины. Так, для выборки $\{11, 9, 3, 5, 5\}$ после её упорядочивания получаем $\{3, 5, 5, 9, 11\}$ и вот у неё медиана точно в середине, как медиана у треугольника, то есть, для этой выборки медиана это число 5.

Главное достоинство медианы заключается в том, что значение медианы не так сильно (как среднее) зависит от попадания в выборку аномально больших и аномально малых значений признака. Этим свойством часто пользуются. Например, в официальной пропаганде употребляются понятия «Средняя зарплата по стране», «Средняя продолжительность жизни», а не «Медианная зарплата по стране», «Медиана продолжительности жизни», поскольку в стране существует определенная группа людей с аномально большой зарплатой, из-за чего средняя зарплата по стране заметно выше, чем медианная. Та же история обстоит и со средней продолжительностью жизни.

!!! todo Задачка на медиану и среднее

    По телевизору недавно сказали, что средний «объем задолженности жителя по ипотечным кредитам» равен 100 тыс. руб (для этого они взяли суммарную ипотечную задолженность по стране и поделили на число всех жителей).

    Вопрос: а чему равно медианное значение величины в кавычках? Дайте точный ответ.

    <details>
    <summary><em>Решение</em></summary>

    Допустим, в России 100 жителей, из них:

    - 95 человек без ипотеки (0 руб)

    - 5 человек с ипотекой (каждый по 2 млн руб.)

    **Расчёты**:

    - Среднее значение = $\frac{95 \cdot 0 + 5 \cdot 2\ 000\ 000)}{100} = 100\ 000$ руб

    - Медиана = 0 руб (50-й и 51-й человек в упорядоченном списке имеют 0 руб)

    **Вывод**: медианное значение ипотечной задолженности жителя РФ равно 0 рублей, что отражает:

      - у большинства граждан нет ипотеки

      - среднее значение искажено небольшим числом крупных заёмщиков

    Это типичный случай, когда среднее и медиана радикально различаются из-за асимметричного распределения данных.

    </details>

Таким образом, ключевое свойство медианы заключается в том, что она устойчивее к выбросам, чем среднее.

**Как соотносятся друг с другом значения среднего и медиана?**

Если медиана и среднее близки друг к другу (не как в задаче про ипотеку), то выборка называется <dfn title="симметричная выборка">симметричной</dfn>. Важность симметричных выборок: для них проще искать аномалии.

А что значит фраза «медиана и среднее очень близки друг к другу»? Как это определить строго, с помощью математики? Этот вопрос будет раскрыть чуть позже, а пока вернемся к другим характеристикам признаков.

#### Мода
<dfn title="мода">Мода</dfn> $m_0$ — это значение признака, которое встречается в выборке наиболее часто, то есть имеющее наибольшую частоту (число повторений). В дискретном вариационном ряду мода — это вариант с максимальной частотой. Таким образом, <dfn title="мода">мода</dfn> — значение, которое наблюдается в выборке чаще всего. Например, модой здесь $(2,0,1,1,3,2,3,2)$ будет 2.

А как же быть, если одинаковое количество разных значений? Это значит, что в выборке мода не одна или ее вовсе нет? Вот в конкретно примере $(-2, -1, 0, 1, 2)$ что является модой?

В этом случае можно было бы считать, что мода не определена. В этом ничего страшного нет. Действительно, в жизни есть такие признаки, которые не имеют моды по своей природе. Например, в том случае, когда признак является номером телефона человека (все люди имеют разные номера телефонов, соответственно все значения имеют равную частоту). Таким образом, мода не всегда может быть определена однозначно.

Более строгим является следующий подход к определению моды:

- если два соседних варианта имеют одинаковую наибольшую частоту, мода — среднее арифметическое этих вариантов;

- если есть несколько вариантов с одинаковой максимальной частотой, ряд называют бимодальным (2 моды) или полимодальным (более 2).

В интервальных рядах сначала определяется <dfn title="модальный интервал">модальный интервал</dfn> — класс с наибольшей частотой или наибольшей плотностью, при неравных интервалах, а затем вычисляют точное значение моды по специальной формуле, учитывающей частоты соседних интервалов.

Ключевое свойства моды заключается в том, что она отражает наиболее типичное значение в данных.

!!! attention Мода (в отличие от среднего и от медианы) имеет смысл и для номинальных (категориальных) признаков.

#### Выборочная дисперсия
К сожалению, среднее и медиана не достаточны для адекватного описания выборки. Например, выборки $(0,0,0,0,0)$ и $(-2,-1,0,1,2)$ имеют одинаковые средние и медианы (0), однако во второй выборке значения чаще отклоняются от среднего. <dfn title="выборочная дисперсия">Выборочная дисперсия</dfn> (sample variance) $S^2$ показывает, насколько данные отклоняются от среднего:

$$ S^2 = \frac{1}{n−1} \sum_{i=1}^n{(x_i-\bar{x})^2} $$

Используем деление на $n−1$ для несмещённой оценки.

Если данные сгруппированы, то выборочную дисперсию вычисляют так:

$$ S^2 = \frac{1}{n−1} \left( \frac{\sum{x_i^2 \cdot n_i}}{n} - (\bar{x_в} )^2 \right) $$

где $n = \sum{n_i}$ — общее количество наблюдений (объем выборки). В данной трактовке выборочное среднее является аналогом математического ожидания.

Выборочная дисперсия показывает степень отклонения, но не позволяет простым образом соотнести это отклонение с самими значениями. Каким образом еще можно охарактеризовать данное отклонение? Сделать это можно с помощью среднего квадратического отклонения.

#### Выборочное среднее квадратическое отклонение
<dfn title="среднее квадратическое отклонение выборки">Среднее квадратическое отклонение выборки</dfn> (<dfn title="выборочное стандартное отклонение">выборочное стандартное отклонение</dfn>) показывает среднее отклонение значений выборки от среднего. Является квадратным корнем из дисперсии

$$ S_P = \sqrt{S^2} = \sqrt{\frac{1}{n-1} \sum_{i=1}^n{(p_i - \bar{p}})^2} $$

!!! attention Важное уточнение

    Для расчета среднеквадратического отклонения в выборке сумма квадратов разностей делится на $n-1$, а для расчета среднеквадратического отклонения в генеральной совокупности — на $n$. Смысл в том, что формула с $\frac{1}{n-1}$ в среднем дает более лучшее приближение к истинному отклонению (которое мы не знаем). Это т.н. несмещенное среднеквадратичное отклонение. Если вкратце, считается, что мы оцениваем не все значения параметра, а выборку из этих значений, некие наблюдения. Данная формула $(n-1)$ дает лучшую оценку среднеквадратичного отклонения для выборки, чем просто $n$. У выборки всегда меньше величины отклонения будут получаться, чтобы это компенсировать делят на $n-1$.[^несмещенная-оценка]

    Это связано со степенями свободы. Простым языком, если у вас доступ ко всему множеству выборки (генеральной совокупности), то нужно делить на $n$. А если у вас только подмножество, то $n-1$. К примеру, в России проживает 140 млн. человек. И вы захотели узнать средний возраст. Вот если вы опросите только 1000 человек, то у вас будет подмножество и поэтому надо делить на $n-1$. А если бы вы каким-то чудом опросили всех 140 млн., тогда имеете полное право поделить только на $n$.

!!! example Пример

    Для $P=(0,0,0,0,0)$ $S_P = 0$

    Для $P=(-2,-1,0,1,2)$

    $$ S_P = \sqrt{\frac{1}{5-1} \dot ((-2-0)^2 + (-1-0)^2 + (0-0)^2 + (1-0)^2 + (2-0)^2)} = \sqrt{\frac{10}{4}} = 1.58 $$

    Выводы про отклонение:

    - отклонение всегда неотрицательно;
    - отклонение значений признака $P$ равно нулю, если... все значения $P$ равны друг другу, т.е. для того признака, который составлен из одних и тех же значений (<dfn title="константный признак">константного признака</dfn>);
    - чем больше величина отклонения, тем сильнее разброс значений выборки вокруг среднего значения.

```py
import numpy as np

arr = np.array([-2,-1,0,1,2])
arr.std(ddof=1)
```

#### Коэффициент вариации
<dfn title="коэффициент вариации">Коэффициент вариации</dfn> или <dfn title="относительное стандартное отклонение">относительное стандартное отклонение</dfn> — это числовая характеристика, которая показывает относительную степень изменчивости случайной величины. Коэффициент вариации — это понятие, используемое как в математической статистике, так и в теории вероятностей.

В теории вероятностей коэффициент вариации определяется для случайных величин и отражает относительное стандартное отклонение по отношению к математическому ожиданию, тем самым служит мерой разброса вероятностного распределения. Он определяется как отношение стандартного (среднеквадратического) отклонения $σ$ к её математическому ожиданию (среднему) $μ$:

$$ c_v = \frac{\sigma}{|\mu|} $$

В контексте коэффициента вариации $μ$ — это среднее арифметическое (математическое ожидание) случайной величины, принятие обозначения связано с принятой в статистике традицией, а не с обозначением начальных и центральных моментов (которые используются в другом контексте).

В статистике коэффициент вариации часто применяется для оценки изменчивости выборочных данных относительно их среднего значения, позволяя сравнивать вариативность разных наборов данных с разными единицами измерения и средними. Это отношение стандартного отклонения к среднему, выражается в %:

$$ CV = \frac{S}{|\bar{x}|} \times 100\% $$

По нему судят об однородности данных: меньше 33% — однородная выборка, более 33% — неоднородная.

Таким образом, коэффициент вариации является универсальным показателем, который встречается в обоих разделах — как в теории вероятностей при описании случайных величин, так и в статистике при работе с выборочными данными. Он является пересечением понятий математической статистики и теории вероятностей, выступая в обоих разделах как важный показатель относительной изменчивости данных и случайных величин.

### Обобщенные характеристики выборки
Основные числовые показатели дают всестороннюю характеристику выборки: центральную тенденцию (мода, медиана, среднее), разброс (размах, дисперсия, стандартное отклонение), и степень вариативности относительно масштаба среднего (коэффициент вариации). На основе этих значений можно делать выводы о форме распределения, однородности, наличии выбросов и особенностях данных, что важно для корректного статистического анализа и принятия решений.

#### Центральная тенденция
<dfn title="Центральная тенденция">Центральная тенденция</dfn> — это обобщающий статистический показатель, который отражает типичное, среднее или наиболее характерное значение набора данных. Она служит для понимания основного центра распределения и помогает суммировать большой массив информации одним числом.

**Ключевые меры центральной тенденции:**

- **Среднее арифметическое** (mean, $\bar{x}$) — сумма всех значений, деленная на их количество. Это наиболее часто используемая мера, но она чувствительна к выбросам и экстремальным значениям.

- **Медиана** (median, $m_e$) — значение, которое разделяет упорядоченный набор данных пополам; половина данных меньше нее, половина — больше. Она устойчива к выбросам и используется при скошенных распределениях.

- **Мода** (mode, $m_0$) — наиболее часто встречающееся значение в наборе. Полезна для категориальных данных или для выявления повторяющихся наиболее типичных значений.

**Критерии оценки выбора меры центральной тенденции:**

- Если данные распределены симметрично без выбросов, удобно использовать среднее.

- Если данные содержат выбросы или распределение скошено, медиана более информативна, так как менее чувствительна к экстремальным значениям.

- Для категориальных или дискретных данных часто используют моду.

- Иногда дополнительно применяется средний диапазон, но он чувствителен к крайним значениям и используется реже.

##### Форма (скошенность) распределения
Обобщенно по выборке можно сделать выводы о форме распределения и наличии асимметрии:

- Если среднее ≈ медиана ≈ мода, распределение, скорее всего, симметрично и близко к нормальному.

- Если среднее > медиана > мода, распределение с положительной скошенностью (правый "хвост").

- Если среднее < медиана < мода, распределение с отрицательной скошенностью (левый "хвост").

Таким образом, комбинация этих трёх показателей позволяет оценить типичное значение в выборке, понять влияние выбросов и форму распределения данных.

Кроме того, отклонение медианы от среднего значения может служить индикатором наличия выбросов или скошенности распределения. Если данные имеют нормальное симметричное распределение без экстремальных значений, среднее и медиана будут близки или совпадать. Однако при наличии выбросов среднее, будучи чувствительным к экстремальным значениям, сдвигается в сторону выбросов, тогда как медиана остаётся устойчивой и менее подвержена влиянию этих значений. Значительное расхождение между средним и медианой указывает на возможные выбросы или асимметрию в выборке, и в таких случаях предпочтительнее использовать медиану как меру центральной тенденции.​

Таким образом, если в данных среднее и медиана сильно различаются, это может быть признаком выбросов, требующих дополнительного анализа и, возможно, применения методов удаления или обработки таких значений.

В целом, центральная тенденция помогает упрощать анализ данных, сравнивать группы, отслеживать изменения и делать прогнозы, выступая опорной точкой для многих статистических методов и интерпретаций.

#### Разброс данных
<dfb title="разброс данных">Разброс данных</dfb> — это мера изменчивости значений в выборке, отражающая, насколько данные разбросаны вокруг центрального значения.

**Основные показатели разброса:**

- **Размах** (range, $R$) — разница между максимальным и минимальным значением выборки. Он показывает общий диапазон значений, но очень чувствителен к выбросам, так как зависит только от крайних наблюдений.

- **Дисперсия** (variance, $S^2$) — среднее арифметическое квадрата отклонений каждого значения от среднего. Дисперсия измеряет среднюю степень рассеивания данных, но выражается в квадратных единицах исходных данных, что затрудняет интерпретацию.

- **Стандартное отклонение** (standard deviation, $S$) — квадратный корень из дисперсии, выражается в тех же единицах, что и данные, и показывает среднее отклонение значений от среднего. Его интерпретация более интуитивна: чем больше стандартное отклонение, тем более вариабельны данные.

**Критерии оценки разброса:**

- Низкое стандартное отклонение указывает на то, что данные сгруппированы близко к среднему.

- Высокое стандартное отклонение свидетельствует о большой вариативности и разбросе данных.

- Размах подходит для быстрого определения диапазона, но не подходит для оценки вариативности из-за чувствительности к выбросам.

- Для более точного анализа предпочтительно использовать дисперсию и стандартное отклонение, учитывающие все значения выборки.

- В нормально распределённых данных примерно 68% значений находятся в интервале ±1 стандартное отклонение от среднего, 95% — в пределах ±2, 99.7% — в пределах ±3 (правило трех сигм).

Таким образом, для полного понимания разброса в данных следует учитывать все три показателя, но главной и наиболее интерпретируемой мерой вариативности является стандартное отклонение.

##### Нормальность распределения
<dfn title="правило трёх сигм">Правило трёх сигм</dfn> утверждает, что для случайной величины, распределённой по нормальному закону, с очень высокой вероятностью (около 99,72%) её значение лежит в интервале от среднего значения минус три стандартных отклонения до среднего плюс три стандартных отклонения:

$$ (μ−3σ;μ+3σ) $$

Это означает, что вероятность отклонения величины от среднего более чем на три стандартных отклонения не превышает 0,28%.​

В практической статистике это правило используют для оценки того, насколько данные отклоняются от средней величины, а также для выявления выбросов: значения, выходящие за пределы этого интервала, считаются крайне редкими и часто трактуются как аномалии или ошибки измерения. Правило также помогает проверить предположение о нормальном распределении данных — если большинство наблюдений лежит в пределах трёх сигм, распределение близко к нормальному.​

Кроме того, правило трёх сигм применяется для контроля качества и мониторинга процессов, где отклонения за пределы интервала считаются сигналом о потенциальной проблеме или сбое. Таким образом, правило трёх сигм — важный инструмент в теории вероятностей и статистике для оценки нормальности и надежности данных.

Например, если в данных, которые предположительно нормально распределены, только около 60% значений находятся в интервале ±1 стандартное отклонение от среднего (вместо ожидаемых 68%), при этом 100% значений находятся в пределах ±2 и ±3 стандартных отклонений, это говорит о нескольких возможных особенностях распределения:

- Распределение может иметь "плоский" (платикуртический) пик с более широкими "плечами" — то есть значения более равномерно распределены вокруг среднего, и меньшее число точек сконцентрировано близко к среднему по сравнению с идеальным нормальным распределением.

- Возможна некоторая умеренная асимметрия или искажение формы распределения, при этом экстремальные значения по-прежнему находятся в ожидаемых пределах.

- Может присутствовать небольшое "уплотнение" данных ближе к границам интервала ±1σ, что снижает процент значений именно в этом интервале.

То есть, отклонение от классического правила 68-95-99.7% вблизи 1σ свидетельствует о том, что данные не идеально нормальные, но всё еще укладываются в стандарты ±2σ и ±3σ. Следует провести дополнительный анализ (например, тесты на нормальность, построение гистограмм и Q-Q графиков) для более точной оценки распределения.

Таким образом, ситуация указывает на возможное отклонение от точного нормального распределения, с меньшей концентрацией значений около среднего и большей "плоскостью" распределения вокруг него.

##### Симметричность выборки
Теперь можно вернуться к понятию симметричной выборки. Если медиана и среднее близки друг к другу (не как в задаче про ипотеку), то выборка называется симметричной. Важность симметричных выборок заключается в том, что для них проще искать аномалии.

А что значит: «медиана и среднее очень близки друг к другу»? Как это определить строго, с помощью математики? На практике считают, что если выполнено неравенство:

$$ \vert \bar{p} - h_P \vert \le \frac{3 S_P}{\sqrt{n}} $$

или:

$$ \vert h_P - \bar{p} \vert \le 3 \sqrt{\frac{S^2_P}{n}} $$

Если такое неравенство выполняется, то выборка называется <dfn title="симметричная выборка">симметричной</dfn>.

#### Степень вариативности
Степень вариативности выборки отражает, насколько значения признака различаются между собой. Для её оценки используют ряд абсолютных и относительных показателей:

- **Размах вариации** (range, $R$) — разность между максимальным и минимальным значением признака, даёт общее представление о диапазоне изменения, но зависит только от крайних значений и чувствителен к выбросам.

- **Дисперсия** (variance, $S^2$) — среднее квадратичное отклонение от среднего, характеризует среднюю величину рассеяния значений. Большая дисперсия говорит о высокой изменчивости.

- **Стандартное отклонение** (standard deviation, $S$) — корень из дисперсии, более удобная для интерпретации мера разброса, выраженная в тех же единицах, что и данные.

- **Коэффициент вариации** (coefficient of variation, $cv$) — относительный показатель вариативности, рассчитываемый как отношение стандартного отклонения к среднему, выраженный в процентах. Он позволяет сравнивать вариативность в выборках с разными средними и масштабами.

##### Однородность выборки
Критерии оценки степени вариативности по коэффициенту вариации:
- $cv < 10\%$ — низкая вариативность (признак однородный);

- $10\% ≤ cv ≤ 20\%$ — средняя вариативность;

- $cv > 20\%$ — высокая вариативность;

- $cv > 40\%$ — очень высокая вариативность, признак сильно изменчив.

Если стандартное отклонение малое относительно среднего значения (коэффициент вариации $c_v$ примерно ниже 10-15%), это считается низкой вариативностью. Значит, данные сгруппированы близко к среднему, колебания малы, и выборка однородна.

Высокое стандартное отклонение характерно, когда $c_v$ превышает 30%, что указывает на значительный разброс данных и повышенную изменчивость.

Таким образом, степень вариативности характеризует устойчивость или изменчивость признака в выборке и помогает понять, насколько типично среднее значение для данной совокупности. Коэффициент вариации — наиболее универсальный и информативный показатель для оценки степени изменчивости.

### Практическая работа. Анализ статистических данных с построением вариационных рядов, гистограммы частот и определением числовых характеристик признаков

#### Задание
1. Составить дискретный и интервальный вариационные ряды для выборки данных по признаку $X$ в соответствии с индивидуальным вариантом.
2. Построить гистограмму распределения значений признака $X$.
3. Определить основные числовые характеристики признака $X$:
     - объем выборки $n$;
     - минимальное и максимальное значения $x_{\min}$ и $x_{\max}$;
     - размах вариации $R(X)$;
     - моду $m_0$;
     - медиану $m_e$;
     - выборочное среднее $\bar{x}$;
     - выборочную дисперсию $S^2$;
     - выборочное стандартное отклонение $S$;
     - относительное стандартное отклонение $c_v$.
4. Проанализировать обобщенные характеристики (центральную тенденцию, разброс данных, степень вариативности) и сделать выводы относительно выборки (форме, нормальности, симметричности и однородности).

Отчет по проделанной работе оформить в виде отдельного документа в соответствии со стандартами колледжа к оформлению квалификационных работ.

#### Пример
Допустим, имеется набор неупорядоченных данных.

Составим на их основе дискретный вариационный ряд.

$x_i$ | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14
-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | --
$n_i$ | 1 | 1 | 3 | 4 | 2 | 4 | 4 | 6 | 9 | 10 | 4 | 1 | 1

$$ \sum{n_i} = n = 50 $$

Составим интервальный вариационный ряд.

Находим размах вариации:

$$ R = x_{\max} - x_{\min} = 14 - 2 = 12 $$

Это число единиц по оси абсцисс ($x$).

Находим число интервалов по формуле Стерджеса:

$$ k = 1 + 3.322 \lg{n} = 1 + 3.322 \lg{50} = 1 + 3.322 \cdot 1.7 \approx 6.6 $$

Полученное значение необходимо округлить до меньшего целого числа:

$$ \lfloor k \rfloor = 6 $$

Следовательно, $\lfloor k \rfloor$ принимается равным 6. Это соответствует числу столбцов диаграммы.

Определяем длину частотного интервала (интервальную разность):

$$ h = \frac{|x_{\max} - x_{\min}|}{\lfloor k \rfloor} = \frac{12}{6} = 2 $$

Это соответствет ширине столбца.

Для каждого частотного интервала необходимо найти сумму частот вариант, попадающих в этот интервал, после чего для каждого интервала можно вычислить его частость и плотность. Также в таблицу для удобства можно добавить средние значения для каждого интервала (интервальные средние — $x_i'$)

$x_i; x_i+h$ | $(2; 4]$ | $(4; 6]$ | $(6; 8]$ | $(8; 10]$ | $(10; 12]$ | $(12; 14]$ | $\sum$
-- | -- | -- | -- | -- | -- | -- | --
$n_i$ | 5 | 6 | 8 | 15 | 14 | 2 | 50
$w_i$ | 0.1 | 0.12 | 0.16 | 0.3 | 0.28 | 0.04 | 1
$\frac{n_i}{h}$ | 2.5 | 3 | 4 | 7.5 | 7 | 1
$x_i'$ | 3 | 5 | 7 | 9 | 11 | 13

#### Вариант 0a
В качестве данных используется случайная неупорядоченная выборка из 30 значений роста студентов (в сантиметрах), полученная в результате измерения роста в группе. Реальное распределение роста студентов обычно неравномерное и характеризуется скошенностью или пиком вокруг среднего значения, а также наличием крайних значений (низких и высоких) с меньшей частотой.

Как правило, в выборках роста для студентов около 60-70% значений сосредоточены в диапазоне около среднего (например, 165-180 см), а очень высокие или низкие значения встречаются редко.

Большая часть значений сгруппирована вокруг 160-175 см, а экстремальные значения (155, 181, 185) встречаются реже, что более похоже на естественное распределение роста студентов. Такое распределение неравномерно, что делает его более реалистичным для анализа дискретного вариационного ряда.

#### Вариант 0b
В качестве данных используются примерные среднесуточные температуры по дням для каждого месяца, учитывая средние месячные температуры, типичные для умеренного климата, ориентируясь на средние месячные температуры по регионам, взяв общие усредненные значения. Температуры плавно меняются в пределах месяца от минимальных к максимальным и обратно, имитируя естественные суточные колебания, чтобы показать дневной прирост и спад температуры.

Для каждого дня месяца значения распределены плавно по синусоиде. Для более естественного распределения среднесуточных температур по дням каждого месяца используется синусоидальный цикл с добавлением случайных кратковременных колебаний, имитирующих природную изменчивость температуры, а не линейный рост или спад. Такой подход учитывает суточные колебания температуры и кратковременные изменения из-за погодных условий. Принцип структуры распределения данных для каждого месяца:

- основная температура меняется по синусоиде от минимального к максимальному значению в месяце;

- дополнительно к синусоиде добавляются небольшие случайные шумы, чтобы имитировать естественные кратковременные колебания.

Такой профиль отражает реалистичные колебания температуры в течение месяца — с восходящей трендовой составляющей, а также периодическими небольшими падениями и подъемами. Это моделирование учитывает сезонность и случайные колебания, делая данные правдоподобными и полезными для климатического анализа и моделирования.

#### Другие данные
В качестве других данных можно также использовать оценки студентов и учет посещаемости.

Немного кода для понимания:
```py
arr1 = np.array([0,1,2,3])
arr2=[0,100,200,300]
sns.scatterplot(x=arr1,y=arr2)
slope, intercept, r, p, std = stats.linregress(arr1,arr2)
y = intercept + slope * arr1
plt.plot(arr1, y, color='green', linewidth=2)
plt.text(x=2,y=17,s=f'R\N{SUPERSCRIPT TWO} = {r**2}')
```

### Заключение
Таким образом, характеристики признаков устанавливаются с помощью методов математической статистики — раздела математики, который разрабатывает методы сбора, группировки и анализа статистических данных для выявления закономерностей массовых случайных явлений и обоснованных научных выводов. Основу методов данной дисциплины составляет теория вероятностей, позволяющая оценить точность и надежность результатов.

В статистике выделяются генеральная совокупность и выборка, а признаки бывают количественными и качественными. Главные характеристики данных — центральная тенденция (среднее, медиана, мода), вариативность (размах, дисперсия, стандартное отклонение) и форма распределения. Для наглядного анализа используют вариационные ряды, гистограммы и эмпирические функции распределения. Эти инструменты помогают понять структуру, симметрию и однородность выборки, что важно для правильного статистического моделирования и принятия решений на основе данных.

### Дополнительная литература
- Т. Сегаран: «Программируем коллективный разум»
- Лекции М. Воронцова https://www.machinelearning.ru/wiki/index.php?title=Машинное_обучение_%28курс_лекций%2C_К.В.Воронцов%29
- Видео с лекций М. Воронцова: https://www.youtube.com/watch?v=qLBkB4sMztk&list=PLJOzdkh8T5kp99tGTEFjH_b9zqEQiiBtC
- Блог ODS: https://habrahabr.ru/company/ods/
- Блог А. Дьяконова: https://alexanderdyakonov.wordpress.com/
- Материалы компании 7bits: https://github.com/7bits/ml-course-7bits

### Источники информации
[^466549]: [Теория вероятностей и математическая статистика](https://en.ppt-online.org/466549)
[^несмещенная-оценка]: [Несмещённая оценка](https://ru.wikipedia.org/wiki/%D0%9D%D0%B5%D1%81%D0%BC%D0%B5%D1%89%D1%91%D0%BD%D0%BD%D0%B0%D1%8F_%D0%BE%D1%86%D0%B5%D0%BD%D0%BA%D0%B0)

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js" integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous"></script>
<script>
  window.onload = () => {
    renderMathInElement(document.body, {
      delimiters: [
        {left: "$$", right: "$$", display: true},
        {left: "$", right: "$", display: false}
      ],
      macros: {
        "\\\n": "\\\\",
      }
    });
  };
</script>
